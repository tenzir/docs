# Tenzir Node v4.22.2

Download the release on [GitHub](https://github.com/tenzir/tenzir/releases/tag/v4.22.2).

### Features

[Section titled “Features”](#features)

#### Implement `<list>.sort()` and `<record>.sort()`

[Section titled “Implement \<list>.sort() and \<record>.sort()”](#implement-listsort-and-recordsort)

The new `sort` method sorts fields in records by name and lists by values.

By [@dominiklohmann](https://github.com/dominiklohmann) in [#4704](https://github.com/tenzir/tenzir/pull/4704).

#### Add a `value_counts` aggregation function

[Section titled “Add a value\_counts aggregation function”](#add-a-value_counts-aggregation-function)

The new `value_counts` aggregation function returns a list of values and their frequency.

By [@dominiklohmann](https://github.com/dominiklohmann) in [#4701](https://github.com/tenzir/tenzir/pull/4701).

### Bug Fixes

[Section titled “Bug Fixes”](#bug-fixes)

#### Enable google-cloud-pubsub connector in the Docker Image

[Section titled “Enable google-cloud-pubsub connector in the Docker Image”](#enable-google-cloud-pubsub-connector-in-the-docker-image)

The `google-cloud-pubsub` connector and TQL2 operators `load_google_cloud_pubsub` `save_google_cloud_pubsub` operators are now available in the Docker image.

By [@IyeOnline](https://github.com/IyeOnline) in [#4690](https://github.com/tenzir/tenzir/pull/4690).

#### Add a `value_counts` aggregation function

[Section titled “Add a value\_counts aggregation function”](#add-a-value_counts-aggregation-function-1)

We fixed a bug that caused the `mode` aggregation function to sometimes ignore some input values.

By [@dominiklohmann](https://github.com/dominiklohmann) in [#4701](https://github.com/tenzir/tenzir/pull/4701).

#### Allow reinstantiating the `buffer` operator

[Section titled “Allow reinstantiating the buffer operator”](#allow-reinstantiating-the-buffer-operator)

We fixed a bug in the `buffer` operator that caused it to break when restarting a pipeline or using multiple buffers in a “parallel” context, such as in `load_tcp`’s pipeline argument.

By [@dominiklohmann](https://github.com/dominiklohmann) in [#4702](https://github.com/tenzir/tenzir/pull/4702).

#### Explicitly close ending TCP connection sockets

[Section titled “Explicitly close ending TCP connection sockets”](#explicitly-close-ending-tcp-connection-sockets)

We fixed a bug that sometimes prevented incoming connections from `load_tcp` from closing properly.

By [@tobim](https://github.com/tobim) in [#4674](https://github.com/tenzir/tenzir/pull/4674).