---
export interface Props {
  title: string;
  description: string;
  href: string;
}

const { title, description, href } = Astro.props;

// Simple markdown to HTML conversion for inline elements
function renderMarkdown(text: string): string {
  return text
    .replace(
      /\[([^\]]+)\]\(([^)]+)\)/g,
      '<a href="$2" target="_blank" rel="noopener noreferrer">$1</a>',
    )
    .replace(/`([^`]+)`/g, "<code>$1</code>")
    .replace(/\*\*([^*]+)\*\*/g, "<strong>$1</strong>")
    .replace(/\*([^*]+)\*/g, "<em>$1</em>");
}

const renderedDescription = renderMarkdown(description);
---

<div class="function-card">
  <a href={href} class="function-card-link">
    <div class="function-card-header">
      <h3 class="function-card-title">{title}</h3>
      <span class="function-card-arrow">â†’</span>
    </div>
    {/* eslint-disable-next-line astro/no-set-html-directive */}
    <div class="function-card-description" set:html={renderedDescription} />
  </a>
  <div class="function-card-example">
    <slot />
  </div>
</div>


