---
title: Documentation
---

The source code of the Tenzir documentation is at
https://github.com/tenzir/docs. We use [Astro](https://astro.build) with
[Starlight](https://starlight.astro.build) as our site framework.

**TL;DR**: Here's a summary about frequently used commands:

| Command                   | Action                                           |
| :------------------------ | :----------------------------------------------- |
| `pnpm install`            | Installs dependencies                            |
| `pnpm dev`                | Starts local dev server at `localhost:4321`      |
| `pnpm build`              | Build your production site to `./dist/`          |
| `pnpm preview`            | Preview your build locally, before deploying     |
| `pnpm astro ...`          | Run CLI commands like `astro add`, `astro check` |
| `pnpm astro -- --help`    | Get help using the Astro CLI                     |

For anything beyond editing Markdown content, check out [Starlightâ€™s
docs](https://starlight.astro.build/) or read [Astro's
documentation](https://docs.astro.build).

## Develop and View Locally

To view the docs site locally, you must first the needed dependencies:

```bash
pnpm install
```

Thereafter, build a development version of the docs:

```bash
pnpm dev
```

Then browse to http://localhost:4321/ to view the site.

## Build for Production

Create a production build as follows:

```bash
pnpm build
```

Preview the generated files by spinning up a web server:

```bash
pnpm preview
```

Then browse to http://localhost:4321/ to view the site.

We create a production build in CI. Check out our [GitHub
workflow](https://github.com/tenzir/docs/blob/main/.github/workflows/docs.yaml)
for the gory details.

## Optimize Images

To keep the repository size manageable, always optimize image files *before*
committing them. This is especially important for formats like PNG, which can
contain unnecessary metadata or use inefficient compression.

### PNG Images

We recommend using [pngquant](https://pngquant.org/), a command-line utility
for lossy compression of PNG files. It significantly reduces file size while
preserving image quality.

To compress a PNG file in-place:

```bash
pngquant --ext .png --force --quality=65-80 image.png
```

### JPEG Images

Use [jpegoptim](https://github.com/tjko/jpegoptim), a utility for optimizing
JPEGs without perceptible quality loss:

```bash
jpegoptim --strip-all --max=80 image.jpg
```

Alternatively, you can use [mozjpeg](https://github.com/mozilla/mozjpeg) for
even better compression ratios.

### SVG Images

Use [svgo](https://github.com/svg/svgo), a Node-based tool to optimize SVG files
by removing unnecessary data:


```bash
svgo image.svg
```

This automatically rewrites the file in-place with redundant code removed and
optimized structure.

## Edit Diagrams

We use [Excalidraw](https://excalidraw.com) as primary tool to create sketches
of architectural diagrams.

When exporting Excalidraw scenes, always **use light mode** and **choose SVG**
as export format, as we have some CSS magic in place that automatically inverts
colors SVGs so that they also look nicely when using dark mode.

Tenzir developers have access to our Excalidraw [Documentation
collection](https://app.excalidraw.com/o/6dBWEFf9h1l/9RErQkL9e2v). For everyone
else, please reach out to us on our [Discord server](/discord) to request
changes to existing SVGs.
