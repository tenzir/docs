---
title: Install a package
---

import Guide from '@components/see-also/Guide.astro';
import Tutorial from '@components/see-also/Tutorial.astro';
import Explanation from '@components/see-also/Explanation.astro';

[Packages](/explanations/packages) provide a flexible approach for combining
operators, pipelines, contexts, and examples into a unified deployable unit.

:::tip[Write your own package]
Want to create your own package? Check out our [package development
tutorial](/tutorials/write-a-package).
:::

## Install from the Tenzir Library

The most convenient way to install a package is through the [Tenzir
Library](https://app.tenzir.com/library):

import { Steps } from "@astrojs/starlight/components";

<Steps>

1. Click on a package
2. Select the _Install_ tab
3. Define your inputs (optional)
4. Click the _Install_ button in the bottom right

</Steps>

## Install with the package operator

To install a package interactively in TQL, use the
[`package::add`](/reference/operators/package/add) operator:

```tql
package::add "/path/to/pkg"
```

This installs the package from the directory `/path/to/pkg`. Pass an `inputs`
record to adjust the package configuration and replace the package's templates
with concrete values:

```tql
package::add "package.yaml", inputs={
  endpoint: "localhost:42000",
  policy: "block",
}
```

Your package now appears when you list all installed packages:

```tql
package::list
```

```tql
{
  id: "your-package",
  install_status: "installed",
  // …
}
```

To uninstall a package interactively, use
[`package::remove`](/reference/operators/package/remove) and pass the package
ID.

```tql
package::remove "your-package"
```

## Install from a custom repository

For packages hosted in a Git repository (like a private library), clone the
repository and point Tenzir at it. You can reference the entire library
directory—Tenzir discovers all packages inside:

```bash
git clone https://github.com/your-org/my-packages.git
tenzir --package-dirs=/path/to/my-packages
```

Or configure the package directories in `tenzir.yaml`:

```yaml title="tenzir.yaml"
tenzir:
  package-dirs:
    - /path/to/my-packages
```

You can also install individual packages interactively:

```tql
package::add "/path/to/my-packages/package-one"
```

## Install with Infrastructure as Code (IaC)

import { FileTree } from '@astrojs/starlight/components';

For IaC-style deployments, you can install packages _as code_ by putting them
next to your `tenzir.yaml` configuration file:

<FileTree>

- /opt/tenzir/etc/tenzir/
  - packages/
    - your-package/
      - operators/
      - pipelines/
      - config.yaml The configuration for the package
      - package.yaml The package manifest with metadata
  - tenzir.yaml

</FileTree>

Inside the `packages` directory, each installed package has its own directory.
The directory name matches the package ID.

The node searches for packages in the following locations:

1. The `packages` directory in all [configuration
   directories](/explanations/configuration).
2. All directories specified in the `tenzir.package-dirs` configuration option.

To provide inputs in IaC-mode, place a `config.yaml` file next to the
`package.yaml` file. For example, this configuration sets the inputs `endpoint`
and `policy`:

```yaml title="config.yaml"
inputs:
  endpoint: localhost:42000
  policy: block
```

## See also

- <Guide>packages/configure-inputs</Guide>
- <Guide>packages/publish-a-package</Guide>
- <Tutorial>write-a-package</Tutorial>
- <Explanation>packages</Explanation>
