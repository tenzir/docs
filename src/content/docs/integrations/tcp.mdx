---
title: TCP
---

The [Transmission Control Protocol
(TCP)](https://en.wikipedia.org/wiki/Transmission_Control_Protocol) offers a
bi-directional byte stream between applications that communicate via IP. Tenzir
supports writing to and reading from TCP sockets, both in server (listening) and
client (connect) mode.

![TCP](tcp.svg)

Use the IP address `0.0.0.0` to listen on all available network interfaces.

:::tip[URL Support]
The URL schemes `tcp://` and `tcps://` dispatch to
[`load_tcp`](/reference/operators/load_tcp) and
[`save_tcp`](/reference/operators/save_tcp) for seamless URL-style use via
[`from`](/reference/operators/from) and [`to`](/reference/operators/to).
:::

## SSL/TLS

To enable TLS, pass `tls={}` to enable TLS with defaults or provide a record
with specific options like `certfile` and `keyfile`. Both
[`from_tcp`](/reference/operators/from_tcp) and
[`load_tcp`](/reference/operators/load_tcp) support server-side TLS for
accepting encrypted connections.

For testing purposes, you can quickly generate a self-signed certificate as
follows:

```bash
openssl req -x509 -newkey rsa:2048 -keyout key_and_cert.pem -out key_and_cert.pem -days 365 -nodes
```

An easy way to test a TLS connection is to try connecting via OpenSSL:

```bash
openssl s_client 127.0.0.1:443
```

## Examples

### Listen for incoming JSON over TCP

```tql
from_tcp "0.0.0.0:8090" {
  read_json
}
```

### Read data by connecting to a remote TCP server

```tql
from "tcp://127.0.0.1:443", connect=true {
  read_json
}
```

### Listen on localhost with TLS enabled

```tql
from_tcp "127.0.0.1:443", tls={certfile: "cert.pem", keyfile: "key.pem"} {
  read_json
}
```
