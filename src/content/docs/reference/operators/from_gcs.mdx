---
title: from_gcs
category: Inputs/Events
example: 'from_gcs "gs://my-bucket/data/**.json"'
---

import Op from '@components/see-also/Op.astro';
import Integration from '@components/see-also/Integration.astro';
import FromFileCommonParams from '@partials/operators/FromFileCommonParams.mdx';

Reads one or multiple files from Google Cloud Storage.

```tql
from_gcs url:string, [anonymous=bool, watch=bool, remove=bool,
  rename=string->string, path_field=field, max_age=duration] { â€¦ }
```

## Description

The `from_gcs` operator reads files from Google Cloud Storage, with support for
glob patterns, automatic format detection, and file monitoring.

By default, authentication is handled by Google's Application Default
Credentials (ADC) chain, which may read from multiple sources:

- `GOOGLE_APPLICATION_CREDENTIALS` environment variable pointing to a service account key file
- User credentials from `gcloud auth application-default login`
- Service account attached to the compute instance (Compute Engine, GKE)
- Google Cloud SDK credentials

### `url: string`

URL identifying the Google Cloud Storage location where data should be read from.

The characters `*` and `**` have a special meaning. `*` matches everything
except `/`. `**` matches everything including `/`. The sequence `/**/` can also
match nothing. For example, `bucket/**/data` matches `bucket/data`.

The syntax is `gs://<bucket-name>/<full-path-to-object>(?<options>)`. The
`<options>` are query parameters. Per the [Arrow
documentation](https://arrow.apache.org/docs/r/articles/fs.html#connecting-directly-with-a-uri),
the following options exist:

> For GCS, the supported parameters are `scheme`, `endpoint_override`, and
> `retry_limit_seconds`.

### `anonymous = bool (optional)`

Use anonymous credentials instead of any configured authentication. This only
works for publicly readable buckets and objects.

Defaults to `false`.

<FromFileCommonParams />

## Examples

### Read every JSON file from a bucket

```tql
from_gcs "gs://my-bucket/data/**.json"
```

### Read CSV files from a public bucket

```tql
from_gcs "gs://public-dataset/data.csv", anonymous=true
```

### Read Zeek logs continuously

```tql
from_gcs "gs://logs/zeek/**.log", watch=true {
  read_zeek_tsv
}
```

### Add source path to events

```tql
from_gcs "gs://data-bucket/**.json", path_field=source_file
```

### Read Suricata EVE JSON logs with custom parsing

```tql
from_gcs "gs://security-logs/suricata/**.json" {
  read_suricata
}
```

## See Also

- <Op>load_gcs</Op>
- <Op>save_gcs</Op>
- <Integration>google/cloud-storage</Integration>
