---
title: from_azure_blob_storage
category: Inputs/Events
example: 'from_azure_blob_storage "abfs://container/data/**.json"'
---

import Op from '@components/see-also/Op.astro';
import Integration from '@components/see-also/Integration.astro';
import FromFileCommonParams from '@partials/operators/FromFileCommonParams.mdx';

Reads one or multiple files from Azure Blob Storage.

```tql
from_azure_blob_storage url:string, [account_key=string, watch=bool,
  remove=bool, rename=string->string, path_field=field, max_age=duration] { â€¦ }
```

## Description

The `from_azure_blob_storage` operator reads files from Azure Blob Storage, with
support for glob patterns, automatic format detection, and file monitoring.

By default, authentication is handled by the Azure SDK's credential chain which
may read from multiple environment variables, such as:

- `AZURE_TENANT_ID`
- `AZURE_CLIENT_ID`
- `AZURE_CLIENT_SECRET`
- `AZURE_AUTHORITY_HOST`
- `AZURE_CLIENT_CERTIFICATE_PATH`
- `AZURE_FEDERATED_TOKEN_FILE`

### `url: string`

URL identifying the Azure Blob Storage location where data should be read from.

The characters `*` and `**` have a special meaning. `*` matches everything
except `/`. `**` matches everything including `/`. The sequence `/**/` can also
match nothing. For example, `container/**/data` matches `container/data`.

Supported URI formats:

1. `abfs[s]://<account>.blob.core.windows.net[/<container>[/<path>]]`
2. `abfs[s]://<container>@<account>.dfs.core.windows.net[/<path>]`
3. `abfs[s]://[<account>@]<host>[.<domain>][:<port>][/<container>[/<path>]]`
4. `abfs[s]://[<account>@]<container>[/<path>]`

(1) and (2) are compatible with the Azure Data Lake Storage Gen2 URIs, (3) is
for Azure Blob Storage compatible service including Azurite, and (4) is a
shorter version of (1) and (2).

:::tip[Authenticate with the Azure CLI]
Run `az login` on the command-line to authenticate the current user with Azure's
command-line arguments.
:::

### `account_key = string (optional)`

Account key for authenticating with Azure Blob Storage.

<FromFileCommonParams removeNote={true} />

## Examples

### Read every JSON file from a container

```tql
from_azure_blob_storage "abfs://my-container/data/**.json"
```

### Read CSV files using account key authentication

```tql
from_azure_blob_storage "abfs://container/data.csv", account_key="your-account-key"
```

### Read Suricata EVE JSON logs continuously

```tql
from_azure_blob_storage "abfs://logs/suricata/**.json", watch=true {
  read_suricata
}
```

### Process files and move them to an archive container

```tql
from_azure_blob_storage "abfs://input/**.json",
  rename=(path => "/archive/" + path)
```

### Add source path to events

```tql
from_azure_blob_storage "abfs://data/**.json", path_field=source_file
```

## See Also

- <Op>from_file</Op>
- <Op>load_azure_blob_storage</Op>
- <Op>save_azure_blob_storage</Op>
- <Integration>microsoft/azure-blob-storage</Integration>
