---
title: from_tcp
category: Inputs/Events
example: 'from_tcp "example.org:4000" { read_json }'
---

import Op from '@components/see-also/Op.astro';
import Integration from '@components/see-also/Integration.astro';

Connects to a remote TCP or TLS endpoint and receives events.

```tql
from_tcp endpoint:string, [tls=record, { … }]
```

## Description

Connects to the specified TCP endpoint as a client and reads bytes from the
connection, running them through an optional nested pipeline.

If the connection fails, the operator retries with exponential backoff.

### `endpoint: string`

The remote endpoint to connect to. Must be of the form
`[tcp://]<hostname>:<port>`.

### `tls = record (optional)`

import TLSOptions from '@partials/operators/TLSOptions.mdx';

<TLSOptions/>

### `{ … } (optional)`

The pipeline to run for the TCP connection. Use this to parse the incoming byte
stream into events, for instance `{ read_json }`.

Inside the pipeline, the `$peer` variable is available as a record with the
following fields:

| Field  | Type    | Description                        |
| :----- | :------ | :--------------------------------- |
| `ip`   | `ip`    | The IP address of the remote peer  |
| `port` | `int64` | The port number of the remote peer |

## Examples

### Connect to a remote server and read JSON

```tql
from_tcp "example.org:4000" {
  read_json
}
```

### Connect with TLS

```tql
from_tcp "example.org:4443", tls={} {
  read_json
}
```

### Connect with TLS and a custom CA certificate

```tql
from_tcp "example.org:4443", tls={cacert: "ca.pem"} {
  read_json
}
```

## See Also

- <Op>to_tcp</Op>
- <Op>accept_tcp</Op>
- <Op>serve_tcp</Op>
- <Integration>tcp</Integration>
